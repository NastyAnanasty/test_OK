# test_OK
В данной версии изменился алгоритм подбора музыкальных исполнителей, формат хранения необходимых файлов, а также добавлен docker

- В файле ```main.py``` содержится основное решение задания. Именно при его запуске выдаются рекомендации
- В файле ```normalise_data.parquet``` содержится кросс-таблица, строки которой - id пользователей, а столбцы - музыкальные исполнители. На их пересечении стоит значение scrobbles
- В файле ```pearson_corr_data.parquet``` содержится таблица, строки и столбцы которой - id пользователей для поиска похожих пользователей. В данной таблице хранится корреляция Пирсона
- В файле ```cosine_data.parquet``` содержится таблица, строки и столбцы которой - id пользователей. В данной таблице хранится косинусная мера близости
- В файле ```indices_pearson.parquet``` содержится таблица, в первом столбце которой хранятся 10 ближайших соседей, а во втором столбце расстояние (корреляция Пирсона) до них
- В файле ```indices_cosine.parquet``` содержится таблица, в первом столбце которой хранятся 10 ближайших соседей, а во втором столбце расстояние (косинусная мера близости) до них
- В файле ```join_data.parquet``` содержится таблица,являющаяся соединением двух исходных таблиц (id пользователя, id исполнителя, имя исполнителя и scrobbles)
- В файле ```КазаковаАС_ОК.ipynb``` хранится работа с данными и получение всех .parquet файлов, а также ход моих мыслей, вопросы и идеи, возникшие в ходе выполнения данного задания

# Запуск
1. Для запуска программы копируем репозиторий 
2. В терминале вводим
```
docker build -t python-imbd .
docker run -i -t python-imbd
```
В файле ```Dockerfile```  ``` "alg" ``` отвечает за тип запускаемого алгоритма. Всего их четыре вида:
  - alg1 выводит рекомендации на основе ближайших соседей, использующих корреляцию
  - alg2 выводит рекомендации на основе ближайших соседей, использующих косинусную меру близости
  - alg3 выводит рекомендации на основе матрицы схожести, посчитанной с помощью косинусной меры близости
  - alg4 выводит рекомендации на основе матрицы схожести, посчитанной с помощью корреляции Пирсона
  Поэтому перед запуском необходимо поставить то значнеие, которое интересно
3. В поле  ввода необходимо ввести название исполнителя и нажать ```enter```.
   На вход принимаются только значения, которые были в таблице, причем регистр, пробелы и спецю символы должны быть записаны также, как в таблице. Почему так объяснено в    .ipynb файле
   
   Для выхода из программы необходимо ввести  ```stop```
